(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{100:function(e,t,s){e.exports={posts:"MyPosts_posts__3Frxv",form:"MyPosts_form__3bJAh",formArea:"MyPosts_formArea__iwmiW",addPostButton:"MyPosts_addPostButton__3RWJb",title:"MyPosts_title__1uGBr"}},101:function(e,t,s){e.exports={item:"Post_item__34ZII",avaMessage:"Post_avaMessage__363FV",message:"Post_message__1MCW1",like:"Post_like__1ezy2"}},103:function(e,t,s){"use strict";s.r(t);var i=s(3),n=s(17),r=s(18),o=s(20),a=s(19),c=s(0),l=s(1),j=s.n(l),u=(s(99),s(43)),b=s(100),d=s.n(b),h=s(101),p=s.n(h);var f=function(e){return Object(c.jsxs)("div",{className:p.a.item,children:[Object(c.jsxs)("div",{className:p.a.avaMessage,children:[Object(c.jsx)("div",{className:p.a.ava,children:Object(c.jsx)("img",{src:"https://img3.goodfon.ru/original/2278x1312/1/ae/james-cameron-avatar-neytiri.jpg"})}),Object(c.jsx)("div",{className:p.a.message,children:e.message})]}),Object(c.jsxs)("div",{className:p.a.like,children:[Object(c.jsx)("span",{children:e.likesCount}),Object(c.jsx)("span",{children:" like"})]})]})},O=s(23),x=s(30),m=s(42),v=Object(m.a)("textarea"),g=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return function(e){return t.reduce((function(t,s){return t||s(e)}),void 0)}},P=Object(x.a)(10);function _(e){return Object(c.jsx)(O.b,{onSubmit:e.onSubmit,children:function(e){var t=e.handleSubmit;return Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsxs)("div",{className:d.a.form,children:[Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{className:d.a.formArea,name:"postText",component:v,placeholder:"Start typing",validate:g(x.b,P)})}),Object(c.jsx)("button",{className:d.a.addPostButton,children:"Add post"})]})})}})}var k=function(e){var t=e.posts.map((function(e){return Object(c.jsx)(f,{message:e.message,likesCount:e.likesCount},e.id)}));return Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{className:d.a.title,children:"My posts"}),Object(c.jsx)("div",{children:Object(c.jsx)(_,{onSubmit:function(t){e.addPost(t.postText)}})}),Object(c.jsx)("div",{className:d.a.posts,children:t})]})},y=s(9),M=Object(y.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(u.a)(t))}}}))(k),S=s(44),A=s(98),F=s.n(A),N=s(33),I=s(55),C=function(e){var t=Object(l.useState)(!1),s=Object(S.a)(t,2),i=s[0],n=s[1],r=Object(l.useState)(e.status),o=Object(S.a)(r,2),a=o[0],j=o[1];Object(l.useEffect)((function(){j(e.status)}),[e.status]);return Object(c.jsx)("div",{children:i?Object(c.jsx)("div",{children:Object(c.jsx)("input",{value:a,onBlur:function(){n(!1),e.updateStatus(a)},autoFocus:!0,onChange:function(e){j(e.target.value)}})}):Object(c.jsx)("div",{className:F.a.statusText,children:Object(c.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"-----"})})})},w=Object(m.a)("input"),J=Object(m.a)("textarea"),T=Object(x.a)(40),B=function(e){var t=e.profile,s=e.onSubmit;return Object(c.jsx)(O.b,{onSubmit:s,initialValues:t,children:function(e){var s=e.handleSubmit;return Object(c.jsx)("form",{onSubmit:s,children:Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{children:Object(c.jsx)("button",{children:"save"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Full name:"})," ",Object(c.jsx)(O.a,{placeholder:"Full name",name:"fullName",component:w,validate:x.b})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",Object(c.jsx)(O.a,{name:"lookingForAJob",component:w,type:"checkbox"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills"})," ",Object(c.jsx)(O.a,{name:"lookingForAJobDescription",component:J,placeholder:"My professional skills",validate:T})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",Object(c.jsx)(O.a,{name:"aboutMe",component:J,placeholder:"About me"})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)("b",{children:[e,":"]})," ",Object(c.jsx)(O.a,{placeholder:e,name:"contacts."+e,component:w})]},e)}))]})]})})}})};var D=function(e){var t=e.profile,s=e.isOwner,i=e.goToEditMode;return Object(c.jsxs)("div",{children:[s&&Object(c.jsx)("div",{children:Object(c.jsx)("button",{onClick:i,children:"edit"})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Full name:"})," ",t.fullName]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Looking for a job:"})," ",t.lookingForAJob?"yes":"no"]}),t.lookingForAJob&&Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"My professional skills"})," ",t.lookingForAJobDescription]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"About me:"})," ",t.aboutMe]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("b",{children:"Contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(c.jsx)(U,{title:e,value:t.contacts[e]},e)}))]})]})},U=function(e){var t=e.title,s=e.value;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("b",{children:[t,":"]})," ",s]})},E=function(e){var t=e.profile,s=Object(l.useState)(!1),i=Object(S.a)(s,2),n=i[0],r=i[1];return e.isFetching||!t?Object(c.jsx)("div",{className:F.a.preloader,children:Object(c.jsx)(N.a,{})}):Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:F.a.info,children:[Object(c.jsx)("img",{src:t.photos.large?t.photos.large:I.a,className:F.a.userPhoto}),e.isOwner&&Object(c.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},className:F.a.changePhoto}),Object(c.jsx)(C,{status:e.status,updateStatus:e.updateStatus}),e.errorMessage?Object(c.jsx)("div",{children:e.errorMessage}):"",n?Object(c.jsx)(B,{profile:t,onSubmit:function(t){e.saveProfile(t).then((function(){return r(!1)}))}}):Object(c.jsx)(D,{profile:t,isOwner:e.isOwner,goToEditMode:function(){return r(!0)}})]})})};var L=function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(E,{profile:e.profile,isFetching:e.isFetching,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile,errorMessage:e.errorMessage}),Object(c.jsx)(M,{})]})},V=s(4),W=s(61),Z=s(16),z=function(e){Object(o.a)(s,e);var t=Object(a.a)(s);function s(){return Object(n.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.AuthUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(c.jsx)(L,Object(i.a)(Object(i.a)({},this.props),{},{profile:this.props.profile,isFetching:this.props.isFetching,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile,errorMessage:this.props.errorMessage}))}}]),s}(j.a.Component);t.default=Object(Z.d)(Object(y.b)((function(e){return{profile:e.profilePage.profile,isFetching:e.profilePage.isFetching,status:e.profilePage.status,AuthUserId:e.auth.id,isAuth:e.auth.isAuth,errorMessage:e.profilePage.errorMessage}}),{getUserProfile:u.d,getStatus:u.c,updateStatus:u.g,savePhoto:u.e,saveProfile:u.f}),V.g,W.a)(z)},98:function(e,t,s){e.exports={userPhoto:"ProfileInfo_userPhoto__35SN5",info:"ProfileInfo_info__1LVvZ",preloader:"ProfileInfo_preloader__2AC1v",statusText:"ProfileInfo_statusText__1Kyt5",changePhoto:"ProfileInfo_changePhoto__sJ77y"}},99:function(e,t,s){}}]);
//# sourceMappingURL=3.62e3cdab.chunk.js.map